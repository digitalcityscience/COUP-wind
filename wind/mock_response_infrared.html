<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">

  <title>InFraReD</title>
  <link rel="icon" type="image/png" href="./Images/favicon/InfraredLogoSimplified.svg" sizes="128x128">
  <meta name="description" content="InFraReD webApp">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <!-- Fonts ---->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,300;1,400&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Overpass:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- import the Material stylesheet -->
  <!-- <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script> -->
  <!-- import the Material specific version -->
  <link rel="stylesheet"
    href="https://unpkg.com/material-components-web@10.0.0-canary.b4f5a1c9e.0//dist/material-components-web.min.css">
  <script
    src="https://unpkg.com/material-components-web@10.0.0-canary.b4f5a1c9e.0//dist/material-components-web.min.js"></script>
  <!-- import the Material icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="Styles/main.css">
  <link rel="stylesheet" href="Styles/introPage.css">
  <!-- MAPBOX -->
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css' rel='stylesheet' />
  <!-- MAPBOX GEOCODER -->
  <script
    src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
  <link rel="stylesheet"
    href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css"
    type="text/css" />
  <script src='https://api.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js'></script>
  <script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
  <!-- uuid -->
  <script src="https://unpkg.com/uuid@latest/dist/umd/uuidv4.min.js"></script>
  <!-- Bookeh -->
  <!-- <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js"
    integrity="sha384-ufR9RFnRs6lniiaFvtJziE0YeidtAgBRH6ux2oUItHw5WTvE1zuk9uzhUU/FJXDp"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.2.min.js"
    integrity="sha384-8QM/PGWBT+IssZuRcDcjzwIh1mkOmJSoNMmyYDZbCfXJg3Ap1lEvdVgFuSAwhb/J"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.0.2.min.js"
    integrity="sha384-Ozhzj+SI7ywm74aOI/UajcWz+C0NjsPunEVyVIrxzYkB+jA+2tUw8x5xJCbVtK5I"
    crossorigin="anonymous"></script> -->

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.2.0.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.2.0.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.2.0.min.js" crossorigin="anonymous"></script>
  </script>

  <style>
  </style>
</head>

<body>

  <!-- ---------- Unity Container ---------- -->
  <div class="webgl main-grid">
    <div id="gameContainer" oncontextmenu="return false;">
      <script>

      </script>
    </div>
    <div id="loader">
      <div class="logo">
        <h1 class="project-title">InFraReD</h1>
      </div>
      <div class="spinner"></div>
      <div class="progress">
        <div class="full"></div>
      </div>
    </div>
  </div>

  <!-- ---------- Front-end ---------- -->
  <section class="main-grid" id="canvas">
    <nav id="navigation-bar" class="grid-footer hidden">
      <!-- Modes -->
      <input type="radio" name="mode" id="context-mode-btn" class="mode-checkbox mode-left" autocomplete="off"
        mode="context" checked>
      <label id="context-label" for="context-mode-btn" class="mdc-button__label"> CONTEXT
        <!-- <i class="material-icons mdc-button__icon" aria-hidden="true" style="font-size: 2.3rem;" title="Context Mode">add_location_alt</i> -->
      </label>
      <input type="radio" name="mode" class="mode-checkbox mode-middle" id="designAnalysis-mode-btn" mode="design"
        autocomplete="off">
      <label id="designAnalysis-label" for="designAnalysis-mode-btn" class="mdc-button__label"> DESIGN
        <!-- <i class="material-icons mdc-button__icon" aria-hidden="true" style="font-size: 2.3rem;" title="Design % Analysis Mode">design_services</i> -->
      </label>
      <input type="radio" name="mode" class="mode-checkbox mode-right" id="explore-mode-btn" mode="explore"
        autocomplete="off">
      <label id="explore-label" for="explore-mode-btn" class="mdc-button__label"> EXPLORE
        <!-- <i class="material-icons mdc-button__icon" aria-hidden="true" style="font-size: 2.3rem;" title="Explore Mode">multiline_chart</i> -->
      </label>
    </nav>

    <!-- Loading Animation -->
    <section class="background-white intro" style="z-index:5;" id="intro-loading">
      <svg viewbox="0 0 100 20" id="wave-svg">
        <defs>
          <linearGradient id="gradient">
            <stop offset="5%" stop-color="#006064" />
            <stop offset="95%" stop-color="#006064" />
          </linearGradient>
          <pattern id="wave" x="0" y="-0.5" width="100%" height="100%" patternUnits="userSpaceOnUse">
            <path id="wavePath" d="M-40 9 Q-30 7 -20 9 T0 9 T20 9 T40 9 T60 9 T80 9 T100 9 T120 9 V20 H-40z"
              mask="url(#mask)" fill="url(#gradient)">
              <animateTransform attributeName="transform" begin="0s" dur="1.5s" type="translate" from="0,0" to="40,0"
                repeatCount="indefinite" />
            </path>
          </pattern>
        </defs>
        <text text-anchor="middle" x="50" y="15" font-size="17" fill="#90e4ef" fill-opacity="0.6">InFraReD</text>
        <text text-anchor="middle" x="50" y="15" font-size="17" fill="url(#wave)" fill-opacity="1">InFraReD</text>
      </svg>
    </section>

    <!-- Intro Page -->
    <section class="background-white intro grid" id="intro-page" style="z-index:4;">
      <div class="grid-infrared-logo">
        <div class="infrared-logo">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 231.54 279.89">
            <g id="Layer_2" data-name="Layer 2">
              <g id="A02._Logo_Txt" data-name="A02. Logo Txt">
                <g id="vers_01" data-name="vers 01">
                  <path class="cls-1"
                    d="M2.56,0H71.23a2.56,2.56,0,0,1,2.56,2.56V277A2.83,2.83,0,0,1,71,279.82H2.56A2.56,2.56,0,0,1,0,277.26V2.56A2.56,2.56,0,0,1,2.56,0Z" />
                  <path class="cls-1"
                    d="M226.82,252.52,118.76,144.46c-10.1-10.1-27.37-2.94-27.37,11.34V264.33A15.56,15.56,0,0,0,107,279.89H215.48C229.76,279.89,236.92,262.62,226.82,252.52Z" />
                  <circle class="cls-1" cx="158.48" cy="68.12" r="68.12" />
                </g>
              </g>
            </g>
          </svg>
        </div>
        <ul class="infrared visibility ul-infrared">
          <li class="bold">In</li>
          <li class="ghost">t</li>
          <li class="ghost">e</li>
          <li class="ghost">l</li>
          <li class="ghost">l</li>
          <li class="ghost">i</li>
          <li class="ghost">g</li>
          <li class="ghost">e</li>
          <li class="ghost">n</li>
          <li class="ghost">t</li>
          <li class="spaced bold">Fra</li>
          <li class="ghost">m</li>
          <li class="ghost">e</li>
          <li class="ghost">w</li>
          <li class="ghost">o</li>
          <li class="ghost">r</li>
          <li class="ghost">k</li>
          <li class="spaced ghost">f</li>
          <li class="ghost">o</li>
          <li class="ghost">r</li>
          <li class="spaced bold">Re</li>
          <li class="ghost">s</li>
          <li class="ghost">i</li>
          <li class="ghost">l</li>
          <li class="ghost">i</li>
          <li class="ghost">e</li>
          <li class="ghost">n</li>
          <li class="ghost">t</li>
          <li class="spaced bold">D</li>
          <li class="ghost">e</li>
          <li class="ghost">s</li>
          <li class="ghost">i</li>
          <li class="ghost">g</li>
          <li class="ghost">n</li>
        </ul>
        <script>
          const f = () => {
            var text = document.querySelector(".infrared");
            setTimeout(() => {
              text.classList.remove("visibility");
            }, 6500);
          };
          f()
        </script>
      </div>
      <div class="grid-main">
        <!-- <nav class="intro-nav"> -->
        <button class="mdc-button mdc-button--raised load-button" id="create-project-button">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label">create project</span>
        </button>
        <button class="mdc-button mdc-button--raised load-button" id="load-project-button">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label">load project</span>
        </button>
        <!-- </nav> -->
      </div>
      <div class="grid-logos-left">
        <a href="https://www.ait.ac.at/en/" target="_blank">
          <div class="secondary-logo ait"> </div>
        </a>
        <a href="https://cities.ait.ac.at/site/" target="_blank">
          <div class="secondary-logo cil"> </div>
        </a>
      </div>
      <div class="grid-logos-right">
        <a href="https://www.uni-weimar.de/en/university/start/" target="_blank">
          <div class="secondary-logo bauhaus"> </div>
        </a>
        <a href="http://decodecreativelab.com/" target="_blank">
          <div class="secondary-logo decode-creative"> </div>
        </a>
      </div>

      <!-- <h1 class="project-title">InFraReD</h1> -->

    </section>

    <!-- Graph Page -->
    <section class="background-primary intro hidden" id="project-page" style="z-index:3;">
      <h5 class="typography-title secondary" style=" position: absolute; top: 1rem;">Navigate to
        Snapshot</h5>
      <!-- <h5 class="primary" style="position: absolute; top: 25vh; font-size: 25vw; margin:0;">InFraReD</h5> -->
      <div id="my_dataviz"> </div>
      <div id="graph-progress">
        <div role="progressbar" class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-linear-progress--open"
          id="treegraph-progress-bar">
          <div class="mdc-linear-progress__buffering-dots"></div>
          <div class="mdc-linear-progress__buffer"></div>
          <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
            <span class="mdc-linear-progress__bar-inner"></span>
          </div>
          <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
            <span class="mdc-linear-progress__bar-inner"></span>
          </div>
        </div>
      </div>
      <div class="mdc-snackbar" id="graph-snackbar">
        <div class="mdc-snackbar__surface">
          <div class="mdc-snackbar__label" role="status" aria-live="polite">
            Click on nodes to expand the graph.
          </div>
          <div class="mdc-snackbar__actions">
            <!-- <button type="button" class="mdc-button mdc-snackbar__action">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">Retry</span>
            </button> -->
            <button class="mdc-icon-button mdc-snackbar__dismiss material-icons" title="Dismiss">close</button>
          </div>
        </div>
      </div>
      <button class="mdc-icon-button material-icons anchor-icon" id="back-button">arrow_back</button>
    </section>

    <!-- Location Selection -->
    <section class="grid-body background-white" id="locationSelection" style="z-index:2;">
      <!-- Mapbox gl map -->
      <div id='map' style=" width: 100%;  height: 100%;"></div>

      <div class="location-settings">
        <h5 class="typography-title primary">Select Location</h5>
        <div>
          <!--geocoder-->
          <div id="geocoder" class="geocoder"></div>
        </div>
        <!-- <button class="mdc-button foo-button" id="skip-btn">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label">Skip</span>
        </button> -->
        <button class="mdc-button mdc-button--raised hidden" id="continue-btn" style="width: 15rem;">
          <span class="mdc-button__label">Continue</span>
        </button>
      </div>

      <div class="mdc-snackbar" id="location-snackbar">
        <div class="mdc-snackbar__surface">
          <div class="mdc-snackbar__label" role="status" aria-live="polite">
            Type an address to go to a specific location.
          </div>
          <div class="mdc-snackbar__actions">
            <button class="mdc-icon-button mdc-snackbar__dismiss material-icons" title="Dismiss">close</button>
          </div>
        </div>
      </div>
      <!-- Project Settings-->
      <section id="project-settings-card" class="hidden"
        style="position: absolute; place-self: center; z-index: 4;  left: 50%;  margin-left: -12.5vw; top: 50%;   margin-top: -10rem;">
        <div class="mdc-card demo-card" style="width: 25vw;">
          <div class="mdc-card__primary-action demo-card__primary-action" tabindex="0" style=" padding: 1rem;">
            <div class="demo-card__primary">
              <h2 class="demo-card__title mdc-typography mdc-typography--headline6" id="user-name"> </h2>
              <h3 class="demo-card__subtitle mdc-typography mdc-typography--subtitle2">Fill in your project settings.
              </h3>
            </div>
            <hr class="break-divider">
            <label class="mdc-text-field mdc-text-field--outlined" id="project-name">
              <input type="text" class="mdc-text-field__input" aria-labelledby="my-label-id">
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label" id="my-label-id">Project Name</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
            </label>
            <hr class="break-divider">
            <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--filled mdc-text-field--label-floating"
              id="analysis-grid-resolution">
              <input type="text" class="mdc-text-field__input" aria-labelledby="my-label-id" value="10">
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label mdc-floating-label--float-above" id="my-label-id">Analysis Grid
                    Resolution</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
            </label>
            <hr class="break-divider">
            <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--filled mdc-text-field--label-floating"
              id="longitude-deltam">
              <input type="number" class="mdc-text-field__input" aria-labelledby="my-label-id" value=500 min=1 max=500>
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label mdc-floating-label--float-above" id="my-label-id">Spacing along X
                    axis</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
            </label>
            <div class="mdc-text-field-helper-line">
              <div class="mdc-text-field-helper-text" id="my-helper-id" aria-hidden="true">Set value between 0 and 500.
              </div>
            </div>
            <hr class="break-divider">
            <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--filled mdc-text-field--label-floating"
              id="latitude-deltam">
              <input type="number" class="mdc-text-field__input" aria-labelledby="my-label-id" value=300 min=1 max=500>
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label mdc-floating-label--float-above" id="my-label-id">Spacing along Y
                    axis</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
            </label>
            <div class="mdc-text-field-helper-line">
              <div class="mdc-text-field-helper-text" id="my-helper-id" aria-hidden="true">Set value between 0 and 500.
              </div>
            </div>
          </div>
          <div class="mdc-card__actions">
            <div class="mdc-card__action-buttons">
              <button class="mdc-button mdc-card__action mdc-card__action--button" id="project-create-btn"> <span
                  class="mdc-button__ripple"></span>
                Continue</button>
            </div>
          </div>
        </div>
      </section>
      <a href="#intro-page" class="anchor-icon">
        <i class="material-icons mdc-icon-button__icon">arrow_back</i>
      </a>
    </section>

    <!-- Home Button -->
    <div class="grid-header-top-row">
      <button class="home-button" id="home-btn" isOn='false' style="background-color: #6300ee00; box-shadow: none;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 230.41 278.52" style="max-height: 80%;">
          <g id="Layer_2" data-name="Layer 2">
            <g id="A03._Logo_Vector" data-name="A03. Logo Vector">
              <g id="vers_03" data-name="vers 03">
                <path class="cls-31"
                  d="M2.56,0H70.87a2.56,2.56,0,0,1,2.56,2.56V275.62a2.83,2.83,0,0,1-2.83,2.83h-68A2.56,2.56,0,0,1,0,275.89V2.56A2.56,2.56,0,0,1,2.56,0Z" />
                <path class="cls-31"
                  d="M225.71,251.28,118.18,143.76C108.13,133.7,90.94,140.82,90.94,155V263a15.49,15.49,0,0,0,15.49,15.49h108C228.64,278.52,235.76,261.33,225.71,251.28Z" />
                <circle class="cls-31" cx="157.7" cy="67.79" r="67.79" />
              </g>
            </g>
          </g>
        </svg>
        <!-- <h3 class='button-title hidden mdc-typography--headline6'>Top view</h3> -->
        <!-- <div class="icon" id="home-icon"></div> -->
      </button>
    </div>

    <!-- Camera Navigation -->
    <div class="grid-header-right">
      <!-- My account -->
      <section class="user-container" style="z-index: 1;">
        <div id="demo-menu" class="mdc-menu-surface--anchor" style="margin: 0;">
          <button class="icon-button" id="user-btn" isOn='false'>
            <h3 class='button-title hidden mdc-typography--headline6'>My account</h3>
            <div class="icon" id="user-icon"></div>
          </button>
          <div class="mdc-menu mdc-menu-surface account-info" id="account-menu">
            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1"> </ul>
            <h6 class="mdc-typography--headline6" id="username">username</h6>
            <p id="loggedUser">username@gmail.com</p>
            <hr class="mdc-list-divider">

            <footer style="justify-content: space-between; display: flex;">
              <button class="mdc-button mdc-button--outlined" onclick="location.href = '../logout';">
                <div class="mdc-button__ripple"></div>
                <span class="mdc-button__label" style="text-transform: none;">Sign out</span>
              </button>

              <button class="mdc-fab mdc-fab--mini" aria-label="feedback" id="feedback-btn">
                <div class="mdc-fab__ripple"></div>
                <span class="mdc-fab__icon material-icons">feedback</span>
              </button>
            </footer>
          </div>
        </div>
      </section>
      <button class="icon-button" id="top-view-btn" isOn='false'>
        <h3 class='button-title hidden mdc-typography--headline6'>Top view</h3>
        <div class="icon" id="topView-icon"></div>
      </button>
      <button class="icon-button" id="reset-camera-btn" isOn='false'>
        <h3 class='button-title hidden mdc-typography--headline6'>Reset camera</h3>
        <div class="icon" id="reset-camera-icon"></div>
      </button>
    </div>




    <!-- Global Components -->
    <section class="fullscreen-content">
      <aside class="mdc-drawer mdc-drawer--dismissible mdc-drawer drawer-width" id="analyses-drawer"
        style="position: relative;">

        <!-- Context Content-->
        <div id="context-content" class="mdc-drawer__content">
          <nav>
            <div id="demo-menu" class="mdc-menu-surface--anchor">
              <button class="mdc-button mdc-button--raised" id="add-analysis" style="width: 100%;">
                <div class="mdc-button__ripple"></div>
                <i class="material-icons" aria-hidden="true">add</i>
                <span class="mdc-button__label">Add Analysis</span>
              </button>
              <div class="mdc-menu mdc-menu-surface" id="analyses-menu">
                <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1"
                  id="analyses-select"> </ul>
              </div>
            </div>
            <!-- <h6 class="mdc-drawer__title">Add Analysis</h6> -->
            <hr class="break-divider">
          </nav>
          <hr class="break-divider">
          <div id="analyses-list"> </div>
          <template id="context-analysis-template">
            <form>
              <div style="display: flex; align-items: center; margin-top: 1rem;">
                <button class="mdc-fab mdc-fab--mini" aria-label="remove" id="remove-analysis">
                  <div class="mdc-fab__ripple"></div>
                  <span class="mdc-fab__icon material-icons">remove</span>
                </button>
                <h6 class="title-in-tab " id="title" version="0">title </h6>
              </div>
              <hr class="break-divider">
              <div id="container"></div>
              <hr class="mdc-list-divider">
            </form>
          </template>
        </div>

        <!-- Design Content-->
        <div id="design-content" class="mdc-drawer__content hidden" style="display: flex; flex-direction: column;">
          <header class="mdc-drawer__header" style="margin-bottom: 1rem;">
            <h2 class="primary" id="snapshot-name" style="margin-top: 0; margin-bottom: 0;"></h2>
            <h4 class="primary" style="font-weight: 400; margin-top: 0;">current snapshot</h4>

            <div style="display:flex; justify-content: space-evenly; margin-top: 2rem; margin-bottom: 2rem;">
              <button class="mdc-button mdc-button--raised" id="snapshot-btn" title="create a new snapshot">
                <div class="mdc-button__ripple" id="build-button-0"></div>
                <span class="mdc-button__label">Branch Snapshot</span>
              </button>
            </div>

            <hr>

          </header>
          <div style="overflow-y: auto; overflow-x: hidden; height: inherit;">

            <!--Settings-->
            <div class="settings-drawer-content hidden" id="settings-drawer-content"></div>
            <!--Results-->
            <div class="results-drawer-content" id="results-drawer-content"></div>

            <template id="result-template">
              <div>
                <a class="mdc-list-item job-btn" href="#job-info-list" id="job-btn" meshData="" index="0">
                  <span class="mdc-list-item__ripple"></span>
                  <span class="mdc-list-item__text" id="job-title">Job</span>
                </a>
                <div class="mdc-list hidden" id="job-info-list">
                  <div id=analysis-legend style="margin: 0 0.5rem;">
                    <div id="values" style="display: flex; justify-content: space-between; height: 1.5rem;">
                      <p id="min" class="legend-text">0</p>
                      <p id="max" class="legend-text">1</p>
                    </div>
                    <div id="gradient" style="height: 20px;"></div>
                  </div>
                  <!-- <button class="mdc-fab mdc-fab--mini" aria-label="play_arrow">
                  <div class="mdc-fab__ripple"></div>
                  <span class="mdc-fab__icon material-icons">play_arrow</span>
                </button> -->
                  <!-- <footer class="panel-footer">
                  <button class="mdc-button mdc-button--outlined" id="show">
                    <div class="mdc-button__ripple"></div>
                    <span class="mdc-button__label">Show</span>
                  </button>
                  <button class="mdc-button mdc-button--outlined hidden" id="add">
                    <div class="mdc-button__ripple"></div>
                    <span class="mdc-button__label">Add</span>
                  </button>
                </footer> -->
                </div>
                <hr class="mdc-list-divider">
              </div>
            </template>
          </div>

          <footer class="mdc-drawer__footer">

            <div style="display:flex; justify-content: space-evenly; margin-top: 2rem;">
              <button class="mdc-button mdc-button--raised" id="run-analysis-btn" style="margin-right: 0.2rem;">
                <div class="mdc-button__ripple" id="build-button-0"></div>
                <span class="mdc-button__label">Analyse</span>
              </button>
            </div>

            <div id="analysis-progress" class="hidden">
              <div role="progressbar"
                class="mdc-linear-progress mdc-linear-progress--indeterminate mdc-linear-progress--open"
                id="analysis-progress-bar">
                <div class="mdc-linear-progress__buffering-dots"></div>
                <div class="mdc-linear-progress__buffer"></div>
                <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                  <span class="mdc-linear-progress__bar-inner"></span>
                </div>
                <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                  <span class="mdc-linear-progress__bar-inner"></span>
                </div>
              </div>
            </div>

          </footer>

        </div>


        <footer class="mdc-drawer__footer" style="direction: rtl;">
          <button class="mdc-icon-button material-icons" id="Settings-close-btn">arrow_back_ios</button>
        </footer>

      </aside>


      <section class="mdc-drawer-app-content buttons-ribbon" style="position: relative; margin: 0 !important;">

      </section>

      <div class="mdc-card popup-card-mid hidden" id="snapshot-name-card">
        <div class="mdc-card__primary-action">
          <div class="demo-card__primary">
            <button class="invisible-button-x" id="snapshot-close-btn"
              style="width: 100%;display: flex; justify-content: flex-end;">
              <i class="mdc-fab__icon material-icons" style="font-size:1rem;">close</i>
            </button>
            <h2 class="demo-card__title mdc-typography mdc-typography--headline6">Snapshot Title
            </h2>
          </div>
          <!-- <div class="mdc-card__media mdc-card__media--square">
            <div class="mdc-card__media-content">Snapshot Title</div>
          </div> -->
          <!-- ... additional primary action content ... -->
          <label class="mdc-text-field mdc-text-field--outlined" id="snapshot-text">
            <input type="text" class="mdc-text-field__input" aria-labelledby="my-label-id">
            <span class="mdc-notched-outline">
              <span class="mdc-notched-outline__leading"></span>
              <span class="mdc-notched-outline__notch">
                <span class="mdc-floating-label" id="my-label-id">Snapshot Title</span>
              </span>
              <span class="mdc-notched-outline__trailing"></span>
            </span>
          </label>
          <div style="margin-top: 1rem;">
            <label class="mdc-text-field mdc-text-field--outlined mdc-text-field--textarea" id="snapshot-description">
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label" id="my-label-id">Snapshot Description</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
              <span class="mdc-text-field__resizer">
                <textarea class="mdc-text-field__input" aria-labelledby="my-label-id" rows="8" cols="40"
                  maxlength="140"></textarea>
              </span>
            </label>
            <div class="mdc-text-field-helper-line">
              <div class="mdc-text-field-character-counter">0 / 140</div>
            </div>
          </div>


          <div class="mdc-card__actions">
            <div class="mdc-card__action-buttons">
              <button class="mdc-button mdc-card__action mdc-card__action--button" id="save-snapshot-title">
                <div class="mdc-button__ripple"></div>
                <span class="mdc-button__label">Save</span>
              </button>
            </div>
            <div class="mdc-card__action-icons">
              <button class="material-icons mdc-icon-button mdc-card__action mdc-card__action--icon" title="Share"
                id="share-snapshot">share</button>
              <!-- <button class="material-icons mdc-icon-button mdc-card__action mdc-card__action--icon" title="More options">more_vert</button> -->
            </div>
          </div>
        </div>
      </div>
      <!-- Properties -->
      <aside class="mdc-drawer mdc-drawer--dismissible" id="properties-drawer" style="position: absolute; top: 0;">
        <header class="mdc-drawer__header">
          <h6 class="mdc-drawer__title">Properties</h6>

        </header>
        <div class="mdc-drawer__content" id="properties-content" style="display: flex; flex-direction: column;">


          <template id="property-category-template">
            <button class="mdc-button mdc-button--outlined outline" id="props-btn">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label" id="label-name">Buildings</span>
            </button>
            <div class="content hidden" id="props">
              <hr class="break-divider">
              <div id="custom-content"></div>
              <!-- <hr class="break-divider">
            <button class="mdc-fab mdc-fab--mini" aria-label="Add" id="add-property-btn">
              <div class="mdc-fab__ripple"></div>
              <span class="mdc-fab__icon material-icons">add</span>
            </button>   -->
              <hr class="mdc-list-divider">
            </div>
          </template>
          <template id="input-template">
            <hr class="break-divider">
            <label class="mdc-text-field mdc-text-field--outlined">
              <input type="text" class="mdc-text-field__input" aria-labelledby="my-label-id" minlength="1">
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label" id="my-label-id">Name</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
            </label>
          </template>
          <template id="checkbox-template">
            <div class="mdc-form-field">
              <hr class="break-divider">
              <div class="mdc-checkbox">
                <input type="checkbox" class="mdc-checkbox__native-control" id="checkbox-1" />
                <div class="mdc-checkbox__background">
                  <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                    <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59" />
                  </svg>
                  <div class="mdc-checkbox__mixedmark"></div>
                </div>
                <div class="mdc-checkbox__ripple"></div>
              </div>
              <label for="checkbox-1">checkbox</label>
            </div>
          </template>
          <template id="radio-template">
            <div class="mdc-radio">
              <input class="mdc-radio__native-control" type="radio" id="radio-1" name="radios" checked>
              <div class="mdc-radio__background">
                <div class="mdc-radio__outer-circle"></div>
                <div class="mdc-radio__inner-circle"></div>
              </div>
              <div class="mdc-radio__ripple"></div>
            </div>
            <label for="radio-1">Radio 1</label>
          </template>
          <template id="select-template">
            <hr class="break-divider">
            <div class="mdc-select mdc-select--outlined demo-width-class">
              <div class="mdc-select__anchor" aria-labelledby="outlined-select-label">
                <span class="mdc-notched-outline">
                  <span class="mdc-notched-outline__leading"></span>
                  <span class="mdc-notched-outline__notch">
                    <span id="outlined-select-label" class="mdc-floating-label">Type</span>
                  </span>
                  <span class="mdc-notched-outline__trailing"></span>
                </span>
                <span class="mdc-select__selected-text-container">
                  <span id="demo-selected-text" class="mdc-select__selected-text"></span>
                </span>
                <span class="mdc-select__dropdown-icon">
                  <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
                    <polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd"
                      points="7 10 12 15 17 10">
                    </polygon>
                    <polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd"
                      points="7 15 12 10 17 15">
                    </polygon>
                  </svg>
                </span>
              </div>
              <!-- Other elements from the select. -->
              <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth" role="listbox">
                <ul class="mdc-list">
                  <!-- <li class="mdc-list-item mdc-list-item--selected" data-value="" aria-selected="true">
                  <span class="mdc-list-item__ripple" id="value-text">Primary</span>
                </li>             -->
                </ul>
              </div>
            </div>
          </template>
          <template id="select-list-item">
            <li class="mdc-list-item" data-value="item-value">
              <span class="mdc-list-item__ripple"></span>
              <span class="mdc-list-item__text">Item name</span>
            </li>
          </template>
          <template id="menu-item-template">
            <li class="mdc-list-item" role="menuitem">
              <span class="mdc-list-item__ripple"></span>
              <span class="mdc-list-item__text">A Menu Item</span>
            </li>
          </template>
          <template id="slider-template">
            <div class="mdc-list-item">
              <h6 class="subtitle" id="item-name">Name </h6>
              <h6 class="mdc-drawer__subtitle" id="slider-value">0</h6>
            </div>
            <div class="slider-container">
              <div class="mdc-slider mdc-slider--discrete" id="slider">
                <input class="mdc-slider__input" type="range" min="0" max="100" value="0" name="volume" step="1"
                  aria-label="Discrete slider demo">
                <div class="mdc-slider__track">
                  <div class="mdc-slider__track--inactive"></div>
                  <div class="mdc-slider__track--active">
                    <div class="mdc-slider__track--active_fill"></div>
                  </div>
                </div>
                <div class="mdc-slider__thumb">
                  <div class="mdc-slider__value-indicator-container">
                    <div class="mdc-slider__value-indicator">
                      <span class="mdc-slider__value-indicator-text">
                        50
                      </span>
                    </div>
                  </div>
                  <div class="mdc-slider__thumb-knob"></div>
                </div>
              </div>
              <!-- 
              <div class="mdc-slider mdc-slider--discrete" data-step="1" id="slider">
                <div class="mdc-slider__track">
                  <div class="mdc-slider__track--inactive"></div>
                  <div class="mdc-slider__track--active">
                    <div class="mdc-slider__track--active_fill"></div>
                  </div>
                </div>
                <div class="mdc-slider__thumb" role="slider" tabindex="0" aria-label="Select value" aria-valuemin="0"
                  aria-valuemax="6" aria-valuenow="2">
                  <div class="mdc-slider__value-indicator-container">
                    <div class="mdc-slider__value-indicator">
                      <span class="mdc-slider__value-indicator-text">
                        2
                      </span>
                    </div>
                  </div>
                  <div class="mdc-slider__thumb-knob"></div>
                </div>
              </div> -->

            </div>
          </template>

        </div>

        <footer class="mdc-drawer__footer align-end">
          <button class="mdc-icon-button material-icons" id="properties-close-btn">arrow_back_ios</button>
        </footer>
      </aside>

      <!--Import Menu-->
      <section id="import-menu" class="grid-body-centre hidden popup-card">
        <div class="mdc-card mdc-card--outlined">
          <div class="mdc-card__primary-action">
            <div class="mdc-card__media mdc-card__media--16-9">
              <div class="mdc-card__media-content">
                <button class="invisible-button-x" id="import-close-btn"
                  style="width: 100%;display: flex; justify-content: flex-end;">
                  <i class="mdc-fab__icon material-icons" style="font-size:1rem;">close</i>
                </button>
                <h3 class='mdc-typography--headline6'>Import Context</h3>
                <p>Select a file to import for context geometry.</p>

              </div>
            </div>

          </div>
          <div class="mdc-card__actions">
            <button class="mdc-button mdc-card__action mdc-card__action--button" disabled>
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">.obj</span>
            </button>
            <!-- <label for="avatar">Choose a file</label> -->
            <input class="custom-file-input" type="file" id="avatar" name="avatar" accept=".json">
          </div>
        </div>
      </section>
    </section>
    <div class="mdc-snackbar" id="error-snackbar">
      <div class="mdc-snackbar__surface">
        <div class="mdc-snackbar__label" role="status" aria-live="polite">
          Sorry! Our servers are experiencing a lot of traffic at the moment. Please try again later!
        </div>
        <div class="mdc-snackbar__actions">
          <button class="mdc-icon-button mdc-snackbar__dismiss material-icons" title="Dismiss">close</button>
        </div>
      </div>
    </div>

    <!-- Context Mode -->
    <section class="main-grid hidden" id="context-mode">
      <section class="grid-body hidden" id="context-guide"></section>
      <aside class="grid-right">
        <button class="icon-button hidden" id="search-btn" title="location search">
          <div class="icon tool" id="search-icon"></div>
        </button>
        <!-- <button class="icon-button" id="load-btn" title="load project" isOn='false' disabled>
          <h3 class='button-title hidden mdc-typography--headline6'>Load project</h3>
          <div class="icon" id="load-icon"></div>
        </button> -->
        <button class="icon-button" id="import-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Import project</h3>
          <div class="icon tool" id="import-icon"></div>
        </button>
        <hr class="break-divider">
        <button class="icon-button" id="set-site-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Set site</h3>
          <div class="icon tool" id="site-icon"></div>
        </button>
        <button class="icon-button" id="delete-existing-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Delete site buildings</h3>
          <div class="icon tool" id="delete-existing-icon"></div>
        </button>
        <!-- <button class="icon-button" id="hide-building-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Hide Buildings</h3>
          <div class="icon" id="hide-icon"></div>
        </button> -->
        <button class="icon-button" id="delete-context-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Delete Context</h3>
          <div class="icon tool" id="delete-context-icon"></div>
        </button>
        <!-- <button class="icon-button hidden" id="show-building-btn" title="Show Buildings" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Show Buildings</h3>
          <div class="icon" id="show-icon"></div>
        </button> -->
        <!--  -->
        <button class="icon-button" id="info-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Info</h3>
          <div class="icon tool" id="info-icon"></div>
        </button>
        <div class="button-panel">
          <button class="icon-button" id="map-layers-btn" isOn=false>
            <h3 class='button-title hidden mdc-typography--headline6'>Data Layers</h3>
            <div class="icon tool" id="layers-icon"></div>
          </button>
          <div class="hidden data-layers-container">
            <ul id="data-layers-container" class="mdc-list height-restriction" role="group"
              aria-label="List with checkbox item"></ul>

          </div>
        </div>

        <button class="icon-button" id="delete-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Delete</h3>
          <div class="icon tool" id="delete-icon"></div>
        </button>
      </aside>

      <aside class="mdc-drawer mdc-drawer--dismissible" id="context-drawer">
        <div class="mdc-drawer__header">
          <!-- <div class="space-between"> -->
          <h5 class="mdc-drawer__title">Info</h5>

          <!-- </div> -->
        </div>
        <div class="mdc-drawer__content">
          <div id="info-container">
            <div id="legend-container"></div>
          </div>
        </div>
        <footer class="align-end">
          <button class="mdc-icon-button material-icons" id="info-close-btn">arrow_back_ios</button>
        </footer>
      </aside>

      <!-- map loading screen -->
      <section class="loading-screen">
        <div class="circular-progress-component-wrapper-centre">
          <h1 id="loading-message" class="mdc-typography--headline6 primary">Retrieving data...</h1>
          <div class="component-wrapper linear-progress-component-wrapper" style="width: 25vw;">
            <!-- <div role="progressbar" class="mdc-linear-progress mdc-linear-progress--indeterminate">
              <div class="mdc-linear-progress__buffering-dots"></div>
              <div class="mdc-linear-progress__buffer"></div>
              <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                <span class="mdc-linear-progress__bar-inner"></span>
              </div>
              <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                <span class="mdc-linear-progress__bar-inner"></span>
              </div>
            </div> -->

            <div role="progressbar" class="mdc-linear-progress mdc-linear-progress--indeterminate"
              aria-label="Example Progress Bar" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0" id="loading-data">
              <div class="mdc-linear-progress__buffer">
                <div class="mdc-linear-progress__buffer-bar"></div>
                <div class="mdc-linear-progress__buffer-dots"></div>
              </div>
              <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                <span class="mdc-linear-progress__bar-inner"></span>
              </div>
              <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                <span class="mdc-linear-progress__bar-inner"></span>
              </div>
            </div>
          </div>
        </div>

      </section>


      <!-- data layer template -->
      <template id="data-layer-template">
        <li class="mdc-list-item data-layer" role="checkbox" aria-checked="false">
          <span class="mdc-list-item__graphic">
            <div class="mdc-checkbox">
              <input type="checkbox" class="mdc-checkbox__native-control data-layer-toggle" index="0" id="layer-id"
                param="FirstTime" paramValue="FirstTime" state="off" mode="Map" />
              <div class="mdc-checkbox__background">
                <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                  <path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59" />
                </svg>
                <div class="mdc-checkbox__mixedmark"></div>
              </div>
            </div>
          </span>
          <label class="mdc-list-item__text" for="demo-list-checkbox-item-1" id="label" title="label">Option 1</label>
        </li>
      </template>
      <!-- legend template -->
      <template id="discrete-legend-value-template">
        <div class="rect" id="rec" value="0">
          <label for="rec" id="label" class="legend-label"></label>
        </div>
      </template>


    </section>

    <!-- Design Mode -->
    <section class="main-grid hidden" title="Design Mode" id="designAnalysis-mode">

      <section class="grid-right">
        <button class="icon-button" id="import-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Import project</h3>
          <div class="icon tool" id="import-icon"></div>
        </button>
        <button class="icon-button design-tools" id="export-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Export</h3>
          <div class="icon tool" id="export-icon"></div>
        </button>
        <hr class="break-divider">

        <button class="icon-button design-tools" id="move-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Move</h3>
          <div class="icon tool" id="move-icon"></div>
        </button>
        <button class="icon-button design-tools" id="rotate-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Rotate</h3>
          <div class="icon tool" id="rotate-icon"></div>
        </button>
        <button class="icon-button design-tools" id="scale-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Scale</h3>
          <div class="icon tool" id="scale-icon"></div>
        </button>
        <button class="icon-button design-tools" id="face-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Select face</h3>
          <div class="icon tool" id="face-icon"></div>
        </button>
        <hr class="break-divider">
        <button class="icon-button design-tools" id="push-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Create Building</h3>
          <div class="icon tool" id="push-icon"></div>
        </button>
        <button class="icon-button design-tools" id="road-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Create Road</h3>
          <div class="icon tool" id="road-icon"></div>
        </button>
        <!-- <button class="icon-button design-tools" id="poi-btn"  isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Create POI</h3>
          <div class="icon" id="poi-icon"></div>
        </button> -->
        <button class="icon-button" id="info-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Info</h3>
          <div class="icon tool" id="info-icon"></div>
        </button>
        <button class="icon-button design-tools" id="delete-btn" isOn='false'>
          <h3 class='button-title hidden mdc-typography--headline6'>Delete</h3>
          <div class="icon tool" id="delete-icon"></div>
        </button>
      </section>

      <!--Export Menu-->
      <section id="export-menu" class="grid-body-centre hidden popup-card">
        <div class="mdc-card mdc-card--outlined">
          <div class="mdc-card__primary-action">
            <div class="mdc-card__media mdc-card__media--16-9">
              <div class="mdc-card__media-content">
                <button class="invisible-button-x" id="export-close-btn"
                  style="width: 100%;display: flex; justify-content: flex-end;">
                  <i class="mdc-fab__icon material-icons" style="font-size:1rem;">close</i>
                </button>
                <h3 class='mdc-typography--headline6'>Export Project</h3>
                <p>Select the output file format for your project from the available options.</p>

              </div>
            </div>

          </div>
          <div class="mdc-card__actions">
            <button class="mdc-button mdc-card__action mdc-card__action--button" disabled>
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">.obj</span>
            </button>
            <button class="mdc-button mdc-card__action mdc-card__action--button" id="export-schema">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label">InFraReD</span>
            </button>
          </div>
        </div>
      </section>

    </section>

    <!-- Explore Mode -->
    <section class="main-grid hidden" id="explore-mode">
      <section class="explore-progress">
        <div class="circular-progress-component-wrapper-centre">
          <!-- <h1 id="loading-message" class="mdc-typography--headline6 primary">Retrieving data...</h1> -->
          <div class="component-wrapper linear-progress-component-wrapper" style="width: 25vw;">
            <div role="progressbar" class="mdc-linear-progress mdc-linear-progress--indeterminate"
              aria-label="Example Progress Bar" aria-valuemin="0" aria-valuemax="1" aria-valuenow="0"
              id="loading-explore">
              <div class="mdc-linear-progress__buffer">
                <div class="mdc-linear-progress__buffer-bar"></div>
                <div class="mdc-linear-progress__buffer-dots"></div>
              </div>
              <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar">
                <span class="mdc-linear-progress__bar-inner"></span>
              </div>
              <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar">
                <span class="mdc-linear-progress__bar-inner"></span>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="explore-bokeh" style="z-index: 2; display: flex; justify-content: center;">



      </section>
      <aside class="mdc-drawer mdc-drawer--dismissible" id="explore-drawer">
        <div class="mdc-drawer__content">

        </div>
      </aside>
    </section>

  </section>




  <div id="connection-icon" class="online"></div>

  <!-- Main scripts-->
  <script src="Build/UnityLoader.js"></script>
  <script type="text/javascript" defer src="JS/unityLoader.js"></script>
  <script type="text/javascript" defer src="JS/main.js"></script>
  <script type="text/javascript" defer src="JS/utls.js"></script>
  <script type="text/javascript" defer src="JS/map.js"></script>
  <script type="text/javascript" defer src="JS/analyses.js"></script>
  <script type="text/javascript" defer src="JS/session.js"></script>
  <script type="text/javascript" defer src="JS/treeGraph.js"></script>
  <script type="text/javascript" defer src="JS/handleInterfaceEvents.js"></script>


</body>

<script src="https://d3js.org/d3.v4.js"></script>

</html>